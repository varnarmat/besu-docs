<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-24.7.0 docs-doc-page docs-doc-id-public-networks/how-to/troubleshoot/peering" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Troubleshoot peering | Besu documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://besu.hyperledger.org/public-networks/how-to/troubleshoot/peering"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="24.7.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-24.7.0"><meta data-rh="true" name="docsearch:version" content="24.7.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-24.7.0"><meta data-rh="true" property="og:title" content="Troubleshoot peering | Besu documentation"><meta data-rh="true" name="description" content="How to troubleshoot peering"><meta data-rh="true" property="og:description" content="How to troubleshoot peering"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://besu.hyperledger.org/public-networks/how-to/troubleshoot/peering"><link data-rh="true" rel="alternate" href="https://besu.hyperledger.org/public-networks/how-to/troubleshoot/peering" hreflang="en"><link data-rh="true" rel="alternate" href="https://besu.hyperledger.org/public-networks/how-to/troubleshoot/peering" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KD07N5GM2B"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KD07N5GM2B",{anonymize_ip:!0})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-THG37T4",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/assets/css/styles.19346b99.css">
<script src="/assets/js/runtime~main.0a04ebc5.js" defer="defer"></script>
<script src="/assets/js/main.ea0a85e0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-THG37T4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-reversed.svg" alt="Besu" class="themedComponent_mlkZ themedComponent--light_NVdE" width="100"><img src="/img/logo-reversed.svg" alt="Besu" class="themedComponent_mlkZ themedComponent--dark_xIcU" width="100"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" docid="index" href="/public-networks">Public networks</a><a class="navbar__item navbar__link" docid="index" href="/private-networks">Private networks</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/public-networks">stable (24.7.0)</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/development/public-networks/how-to/troubleshoot/peering">development</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/public-networks/how-to/troubleshoot/peering">stable (24.7.0)</a></li><li><a class="dropdown__link" href="/24.6.0/public-networks/how-to/troubleshoot/peering">24.6.0</a></li><li><a class="dropdown__link" href="/24.5.2/public-networks/how-to/troubleshoot/peering">24.5.2</a></li><li><a class="dropdown__link" href="/24.5.0/public-networks/how-to/troubleshoot/peering">24.5.0</a></li><li><a class="dropdown__link" href="/24.3.0/public-networks/how-to/troubleshoot/peering">24.3.0</a></li><li><a class="dropdown__link" href="/24.1.0/public-networks/how-to/troubleshoot/peering">24.1.0</a></li><li><a class="dropdown__link" href="/23.10.3/public-networks/how-to/troubleshoot/peering">23.10.3</a></li><li><a class="dropdown__link" href="/23.10.2/public-networks/how-to/troubleshoot/peering">23.10.2</a></li><li><a class="dropdown__link" href="/23.7.3/public-networks/how-to/troubleshoot/peering">23.7.3</a></li><li><a class="dropdown__link" href="/23.4.1/public-networks/how-to/troubleshoot/peering">23.4.1</a></li></ul></div><a href="https://github.com/hyperledger/besu/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><a href="https://discord.gg/hyperledger" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link"></a><a href="https://twitter.com/HyperledgerBesu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/public-networks">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/public-networks/get-started">Get started</a><button aria-label="Collapse sidebar category &#x27;Get started&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/public-networks/get-started/system-requirements">System requirements</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/public-networks/get-started/install">Install Besu</a><button aria-label="Expand sidebar category &#x27;Install Besu&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/public-networks/get-started/start-node">Start Besu</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/public-networks/get-started/connect">Connect to a network</a><button aria-label="Expand sidebar category &#x27;Connect to a network&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/public-networks/get-started/migrate-to-besu">Migrate to Besu</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/public-networks/how-to">How to</a><button aria-label="Collapse sidebar category &#x27;How to&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/public-networks/how-to/use-besu-api">Use the Besu API</a><button aria-label="Expand sidebar category &#x27;Use the Besu API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/public-networks/how-to/use-engine-api">Use the Engine API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/public-networks/how-to/use-configuration-file">Use a configuration file</a><button aria-label="Expand sidebar category &#x27;Use a configuration file&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/public-networks/how-to/send-transactions">Create and send transactions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/public-networks/how-to/connect/static-nodes">Find and connect to peers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/public-networks/how-to/monitor">Monitor nodes</a><button aria-label="Expand sidebar category &#x27;Monitor nodes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/public-networks/how-to/configure-ha">Configure high availability</a><button aria-label="Expand sidebar category &#x27;Configure high availability&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/public-networks/how-to/configure-java/install-update-java">Configure Java</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/public-networks/how-to/develop/hardhat">Develop dapps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/public-networks/how-to/use-pow/mining">Use proof of work</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/public-networks/how-to/upgrade-node">Upgrade Besu</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/public-networks/how-to/bonsai-limit-trie-logs">Reduce storage for Bonsai Tries</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/public-networks/how-to/troubleshoot/evm-tool">Troubleshoot</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/public-networks/how-to/troubleshoot/evm-tool">Use EVM tool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/public-networks/how-to/troubleshoot/trace-transactions">Trace transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/public-networks/how-to/troubleshoot/performance">Troubleshoot performance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/public-networks/how-to/troubleshoot/peering">Troubleshoot peering</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/public-networks/concepts">Concepts</a><button aria-label="Expand sidebar category &#x27;Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/public-networks/tutorials">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/public-networks/reference">Reference</a><button aria-label="Expand sidebar category &#x27;Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><footer class="theme-doc-footer docusaurus-mt-lg margin-top--sm"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/public-networks">public networks</a></li></ul></div></div></footer><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Troubleshoot peering</h1>
<p>Many factors can affect the ability of your node to find and maintain peers. Your network router, machine environment, and node configuration are all important. If you have peering issues, start by <a href="/public-networks/how-to/connect/configure-ports">configuring your ports</a> and <a href="/public-networks/how-to/connect/manage-peers">managing peers</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="peering-faq">Peering FAQ<a href="#peering-faq" class="hash-link" aria-label="Direct link to Peering FAQ" title="Direct link to Peering FAQ">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-cant-i-find-enough-peers-to-sync">&quot;Why can’t I find enough peers to sync?&quot;<a href="#why-cant-i-find-enough-peers-to-sync" class="hash-link" aria-label="Direct link to &quot;Why can’t I find enough peers to sync?&quot;" title="Direct link to &quot;Why can’t I find enough peers to sync?&quot;">​</a></h3>
<p>One or more of the following may be the cause:</p>
<ul>
<li>Your hardware doesn&#x27;t have enough CPU, disk IOPS, or bandwidth to handle all the peers.</li>
<li>Your ports aren&#x27;t open in your firewall and/or router.</li>
<li>Your node is sending large numbers of DNS requests. See <a href="https://github.com/hyperledger/besu/issues/4375" target="_blank" rel="noopener noreferrer">issue #4375</a>.</li>
<li>You&#x27;re using <a href="/public-networks/get-started/connect/sync-node#checkpoint-synchronization">checkpoint sync</a>, which doesn&#x27;t download all historical block data, so your peers may disconnect you when fetching those blocks.</li>
<li>Your node is experiencing the normal behavior of peers connecting and disconnecting. This is especially normal soon after you start your node.</li>
</ul>
<p>You can try the following to find more peers:</p>
<ul>
<li>Set <a href="/public-networks/reference/cli/options#p2p-host"><code>p2p-host</code></a> to your external IP address to allow inbound connections.</li>
<li>Restart Besu. This can take a while to build up again.</li>
<li>Set <code>-Xdns-enabled</code> to <code>true</code> (only for private networks).</li>
<li>Delete the node key (which is autogenerated in your data directory). There are two reasons that this might help find more peers:<!-- -->
<ol>
<li>Your node (identified by the address associated with this key) has been put onto other peers&#x27; bad peer lists for some reason.</li>
<li>Peer discovery is influenced by the value of the node key. This is related to the node &quot;distance&quot; in the <a href="https://github.com/ethereum/devp2p/wiki/Discovery-Overview#kademlia" target="_blank" rel="noopener noreferrer">discovery algorithm</a>.</li>
</ol>
</li>
</ul>
<p>You can read the <a href="https://docs.prylabs.network/docs/prysm-usage/p2p-host-ip" target="_blank" rel="noopener noreferrer">Prysm EL and CL peering documentation</a> for more information.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-network-or-routermodem-settings-should-i-check">&quot;What network or router/modem settings should I check?&quot;<a href="#what-network-or-routermodem-settings-should-i-check" class="hash-link" aria-label="Direct link to &quot;What network or router/modem settings should I check?&quot;" title="Direct link to &quot;What network or router/modem settings should I check?&quot;">​</a></h3>
<p>Check the following settings:</p>
<ul>
<li>Your machine and router&#x27;s specified DNS should support TCP. You can check your DNS online for TCP support. Google and Cloudflare, 8.8.8.8 and 1.1.1.1, support TCP over port 853. Other DNS might as well.</li>
<li>The appropriate ports should be open on your router, or your router should have UPNP enabled. See the next FAQ for more information on router settings.</li>
<li>If you use <a href="https://docs.docker.com/network/network-tutorial-host/" target="_blank" rel="noopener noreferrer">Docker</a> or virtualization, the container should be able to create outbound connections on the host machine.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="which-urls-should-i-check">&quot;Which URLs should I check?&quot;<a href="#which-urls-should-i-check" class="hash-link" aria-label="Direct link to &quot;Which URLs should I check?&quot;" title="Direct link to &quot;Which URLs should I check?&quot;">​</a></h3>
<p>Check that the <a href="/public-networks/concepts/node-keys#enode-url">enode URLs</a> specified for <a href="/private-networks/how-to/configure/bootnodes">bootnodes</a> or <a href="/public-networks/how-to/connect/static-nodes">static nodes</a> match the enode URLs displayed when starting the remote nodes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-openforward-my-ports">&quot;How do I open/forward my ports?&quot;<a href="#how-do-i-openforward-my-ports" class="hash-link" aria-label="Direct link to &quot;How do I open/forward my ports?&quot;" title="Direct link to &quot;How do I open/forward my ports?&quot;">​</a></h3>
<p>If you’re behind NAT, you probably need to set up port forwarding in your router. You might also need to configure your firewall. Forward and open <code>30303</code> (if using the default p2p port) for both UDP and TCP. If your router supports UPNP, you can set <a href="/public-networks/reference/cli/options#nat-method"><code>--nat-method</code></a> to <a href="/public-networks/how-to/connect/specify-nat#upnp"><code>UPNPP2PONLY</code></a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-test-that-my-ports-are-open">&quot;How do I test that my ports are open?&quot;<a href="#how-do-i-test-that-my-ports-are-open" class="hash-link" aria-label="Direct link to &quot;How do I test that my ports are open?&quot;" title="Direct link to &quot;How do I test that my ports are open?&quot;">​</a></h3>
<p>You can use this <a href="https://www.yougetsignal.com/tools/open-ports/" target="_blank" rel="noopener noreferrer">open port checker</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="whats-the-ideal-number-of-peers-for-besu">&quot;What&#x27;s the ideal number of peers for Besu?&quot;<a href="#whats-the-ideal-number-of-peers-for-besu" class="hash-link" aria-label="Direct link to &quot;What&#x27;s the ideal number of peers for Besu?&quot;" title="Direct link to &quot;What&#x27;s the ideal number of peers for Besu?&quot;">​</a></h3>
<p>The default maximum is 25. Increasing the number of peers increases the bandwidth, CPU, and disk access Besu uses to respond to peers. Hardware with low specifications might result in low peer numbers. You&#x27;ll experience diminishing returns with a larger number of peers (&gt;100).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="whats-the-benefit-of-increasing-the-number-of-peers">&quot;What&#x27;s the benefit of increasing the number of peers?&quot;<a href="#whats-the-benefit-of-increasing-the-number-of-peers" class="hash-link" aria-label="Direct link to &quot;What&#x27;s the benefit of increasing the number of peers?&quot;" title="Direct link to &quot;What&#x27;s the benefit of increasing the number of peers?&quot;">​</a></h3>
<p>Increasing the number of max peers won&#x27;t speed up Besu syncing, because the bottleneck during sync is disk IO and CPU.</p>
<p>Note that Besu&#x27;s peers are only used for the initial sync and transaction gossip, neither of which affects attestation performance. The beacon node connectivity controls how quickly you receive blocks and how attestations are published. Increasing Besu&#x27;s peer count increases the load on your node, which may hurt attestations.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="metrics">Metrics<a href="#metrics" class="hash-link" aria-label="Direct link to Metrics" title="Direct link to Metrics">​</a></h2>
<p>Capture <a href="/public-networks/how-to/monitor">metrics</a> to gain insights into peering behavior over time.</p>
<p>To <a href="/public-networks/how-to/monitor/metrics">enable Prometheus to access Besu</a>, open the metrics port or metrics push port to Prometheus or the Prometheus push gateway on TCP.</p>
<p>Specify the ports for Prometheus and Prometheus push gateway using the <a href="/public-networks/reference/cli/options#metrics-port"><code>--metrics-port</code></a> and <a href="/public-networks/reference/cli/options#metrics-push-port"><code>--metrics-push-port</code></a> options. The defaults are <code>9545</code> and <code>9001</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hyperledger/besu-docs/tree/main/versioned_docs/version-24.7.0/public-networks/how-to/troubleshoot/peering.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_VsjB"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-07-18T20:52:24.000Z">Jul 18, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/public-networks/how-to/troubleshoot/performance"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Troubleshoot performance</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/public-networks/concepts"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Concepts</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#peering-faq" class="table-of-contents__link toc-highlight">Peering FAQ</a><ul><li><a href="#why-cant-i-find-enough-peers-to-sync" class="table-of-contents__link toc-highlight">&quot;Why can’t I find enough peers to sync?&quot;</a></li><li><a href="#what-network-or-routermodem-settings-should-i-check" class="table-of-contents__link toc-highlight">&quot;What network or router/modem settings should I check?&quot;</a></li><li><a href="#which-urls-should-i-check" class="table-of-contents__link toc-highlight">&quot;Which URLs should I check?&quot;</a></li><li><a href="#how-do-i-openforward-my-ports" class="table-of-contents__link toc-highlight">&quot;How do I open/forward my ports?&quot;</a></li><li><a href="#how-do-i-test-that-my-ports-are-open" class="table-of-contents__link toc-highlight">&quot;How do I test that my ports are open?&quot;</a></li><li><a href="#whats-the-ideal-number-of-peers-for-besu" class="table-of-contents__link toc-highlight">&quot;What&#39;s the ideal number of peers for Besu?&quot;</a></li><li><a href="#whats-the-benefit-of-increasing-the-number-of-peers" class="table-of-contents__link toc-highlight">&quot;What&#39;s the benefit of increasing the number of peers?&quot;</a></li></ul></li><li><a href="#metrics" class="table-of-contents__link toc-highlight">Metrics</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Public networks</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/public-networks">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/public-networks/how-to">How to guides</a></li><li class="footer__item"><a class="footer__link-item" href="/public-networks/concepts">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/public-networks/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/public-networks/reference">Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Private networks</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/private-networks">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/private-networks/how-to">How to guides</a></li><li class="footer__item"><a class="footer__link-item" href="/private-networks/concepts">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/private-networks/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/private-networks/reference">Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/hyperledger" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hyperledger Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.hyperledger.org/display/BESU/Hyperledger+Besu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hyperledger Besu Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/HyperledgerBesu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hyperledger Besu Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/hyperledger/besu/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hyperledger Besu GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/hyperledger/besu-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hyperledger Besu documentation GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.hyperledger.org/use/besu" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/logo.svg" alt="Hyperledger Besu logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="250"><img src="/img/logo-reversed.svg" alt="Hyperledger Besu logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="250"></a></div><div class="footer__copyright">Hyperledger Besu and its documentation are licensed under the Apache 2.0 license.</div></div></div></footer></div>
</body>
</html>