<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-23.10.2 docs-doc-page docs-doc-id-public-networks/how-to/monitor/metrics" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">Use metrics | Besu documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://besu.hyperledger.org/23.10.2/public-networks/how-to/monitor/metrics"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="23.10.2"><meta data-rh="true" name="docusaurus_tag" content="docs-default-23.10.2"><meta data-rh="true" name="docsearch:version" content="23.10.2"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-23.10.2"><meta data-rh="true" property="og:title" content="Use metrics | Besu documentation"><meta data-rh="true" name="description" content="Monitoring and metrics"><meta data-rh="true" property="og:description" content="Monitoring and metrics"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://besu.hyperledger.org/23.10.2/public-networks/how-to/monitor/metrics"><link data-rh="true" rel="alternate" href="https://besu.hyperledger.org/23.10.2/public-networks/how-to/monitor/metrics" hreflang="en"><link data-rh="true" rel="alternate" href="https://besu.hyperledger.org/23.10.2/public-networks/how-to/monitor/metrics" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KD07N5GM2B"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KD07N5GM2B",{anonymize_ip:!0})</script>
<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-THG37T4",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/assets/css/styles.19346b99.css">
<script src="/assets/js/runtime~main.f3b68cdb.js" defer="defer"></script>
<script src="/assets/js/main.20dc5ce5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-THG37T4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-reversed.svg" alt="Besu" class="themedComponent_mlkZ themedComponent--light_NVdE" width="100"><img src="/img/logo-reversed.svg" alt="Besu" class="themedComponent_mlkZ themedComponent--dark_xIcU" width="100"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" docid="index" href="/23.10.2/public-networks">Public networks</a><a class="navbar__item navbar__link" docid="index" href="/23.10.2/private-networks">Private networks</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/23.10.2/public-networks">23.10.2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/development/public-networks/how-to/monitor/metrics">development</a></li><li><a class="dropdown__link" href="/public-networks/how-to/monitor/metrics">stable (24.5.2)</a></li><li><a class="dropdown__link" href="/24.5.0/public-networks/how-to/monitor/metrics">24.5.0</a></li><li><a class="dropdown__link" href="/24.3.0/public-networks/how-to/monitor/metrics">24.3.0</a></li><li><a class="dropdown__link" href="/24.1.0/public-networks/how-to/monitor/metrics">24.1.0</a></li><li><a class="dropdown__link" href="/23.10.3/public-networks/how-to/monitor/metrics">23.10.3</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/23.10.2/public-networks/how-to/monitor/metrics">23.10.2</a></li><li><a class="dropdown__link" href="/23.7.3/public-networks/how-to/monitor/metrics">23.7.3</a></li><li><a class="dropdown__link" href="/23.4.1/public-networks/how-to/monitor/metrics">23.4.1</a></li></ul></div><a href="https://github.com/hyperledger/besu/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><a href="https://discord.gg/hyperledger" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link"></a><a href="https://twitter.com/HyperledgerBesu" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-twitter-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/23.10.2/public-networks">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/23.10.2/public-networks/get-started">Get started</a><button aria-label="Collapse sidebar category &#x27;Get started&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/23.10.2/public-networks/get-started/system-requirements">System requirements</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/23.10.2/public-networks/get-started/install">Install Besu</a><button aria-label="Expand sidebar category &#x27;Install Besu&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/23.10.2/public-networks/get-started/start-node">Start Besu</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/23.10.2/public-networks/get-started/connect">Connect to a network</a><button aria-label="Expand sidebar category &#x27;Connect to a network&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/23.10.2/public-networks/get-started/migrate-to-besu">Migrate to Besu</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/23.10.2/public-networks/how-to">How to</a><button aria-label="Collapse sidebar category &#x27;How to&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/23.10.2/public-networks/how-to/use-besu-api">Use the Besu API</a><button aria-label="Expand sidebar category &#x27;Use the Besu API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/23.10.2/public-networks/how-to/use-engine-api">Use the Engine API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/23.10.2/public-networks/how-to/configuration-file">Use a configuration file</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/23.10.2/public-networks/how-to/send-transactions">Create and send transactions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/23.10.2/public-networks/how-to/connect/static-nodes">Find and connect to peers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/23.10.2/public-networks/how-to/monitor">Monitor nodes</a><button aria-label="Collapse sidebar category &#x27;Monitor nodes&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/23.10.2/public-networks/how-to/monitor/metrics">Use metrics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/23.10.2/public-networks/how-to/monitor/understand-metrics">Understand metrics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/23.10.2/public-networks/how-to/monitor/logging">Configure logging</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/23.10.2/public-networks/how-to/configure-ha">Configure high availability</a><button aria-label="Expand sidebar category &#x27;Configure high availability&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/23.10.2/public-networks/how-to/configure-jvm">Configure the Java Virtual Machine</a><button aria-label="Expand sidebar category &#x27;Configure the Java Virtual Machine&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/23.10.2/public-networks/how-to/develop/hardhat">Develop dapps</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/23.10.2/public-networks/how-to/use-pow/mining">Use proof of work</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/23.10.2/public-networks/how-to/upgrade-node">Upgrade Besu</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/23.10.2/public-networks/how-to/troubleshoot/evm-tool">Troubleshoot</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/23.10.2/public-networks/concepts">Concepts</a><button aria-label="Expand sidebar category &#x27;Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/23.10.2/public-networks/tutorials">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/23.10.2/public-networks/reference">Reference</a><button aria-label="Expand sidebar category &#x27;Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Besu version <b>23.10.2</b>, which is no longer actively maintained.<!-- --> You can switch to the <a href="/public-networks/how-to/monitor/metrics">stable version</a> (<!-- -->24.5.2<!-- -->).</div></div><div class="docItemContainer_c0TR"><article><footer class="theme-doc-footer docusaurus-mt-lg margin-top--sm"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/23.10.2/tags/public-networks">public networks</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/23.10.2/tags/private-networks">private networks</a></li></ul></div></div></footer><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Use metrics to monitor node performance</h1>
<p>To enable the <a href="https://prometheus.io/" target="_blank" rel="noopener noreferrer">Prometheus</a> monitoring and alerting service to access Hyperledger Besu metrics, use the <a href="/23.10.2/public-networks/reference/cli/options#metrics-enabled"><code>--metrics-enabled</code></a> option. Use <a href="https://grafana.com/" target="_blank" rel="noopener noreferrer">Grafana</a> to visualize the collected data. See the sample <a href="https://grafana.com/grafana/dashboards/16455-besu-full/" target="_blank" rel="noopener noreferrer">Besu Full Grafana dashboard</a>.</p>
<p>The Besu example networks have <a href="/23.10.2/private-networks/tutorials/quickstart#monitor-nodes-with-prometheus-and-grafana">monitoring with Prometheus and Grafana configured</a>.</p>
<p>Use Prometheus to monitor the number of blocks your Besu node is behind the chain head, and to alert you that your node is not keeping up with the chain head.</p>
<p><a href="https://www.youtube.com/watch?v=7BuutRe0I28&amp;feature=youtu.be" target="_blank" rel="noopener noreferrer">This recording</a> shows examples of monitoring Hyperledger Besu.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-prometheus">Install Prometheus<a href="#install-prometheus" class="hash-link" aria-label="Direct link to Install Prometheus" title="Direct link to Install Prometheus">​</a></h2>
<p>To use Prometheus with Besu, install the <a href="https://prometheus.io/download/" target="_blank" rel="noopener noreferrer">Prometheus main component</a>. On MacOS, install with <a href="https://formulae.brew.sh/formula/prometheus" target="_blank" rel="noopener noreferrer">Homebrew</a>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">brew install prometheus</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>You can also install:</p><ul>
<li>Exporters that send system metrics to Prometheus to monitor non-Besu-specific items such as disk and CPU usage.</li>
<li>Other Prometheus components, such as the Alert Manager. Additional configuration is not required for these components because Prometheus handles and analyzes data directly from the feed.</li>
</ul></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-and-run-prometheus-with-besu">Set up and run Prometheus with Besu<a href="#set-up-and-run-prometheus-with-besu" class="hash-link" aria-label="Direct link to Set up and run Prometheus with Besu" title="Direct link to Set up and run Prometheus with Besu">​</a></h2>
<p>To configure Prometheus and run with Besu:</p>
<ol>
<li>Configure Prometheus to poll Besu. For example, add the following YAML fragment to the <code>scrape_configs</code> block of the <code>prometheus.yml</code> file:</li>
</ol>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Fragment to insert in prometheus.yml</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Full prometheus.yml example</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">job_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> besu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">scrape_interval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 15s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">scrape_timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 10s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">metrics_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">scheme</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">static_configs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">targets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> localhost</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">9545</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">global</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">scrape_interval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 15s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">scrape_configs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">job_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;prometheus&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">static_configs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">targets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;localhost:9090&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">job_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> besu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">scrape_interval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 15s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">scrape_timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 10s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metrics_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">scheme</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">static_configs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">targets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> localhost</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">9545</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>Prometheus requires 3 MB of space per node per hour for metrics, with a <code>scrape_interval</code> of 15 seconds.</p>
<ol start="2">
<li>Start Besu with the <a href="/23.10.2/public-networks/reference/cli/options#metrics-enabled"><code>--metrics-enabled</code></a> option. To start a single node for testing with metrics enabled, run the following command:</li>
</ol>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Syntax</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Example</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">besu --network=dev --miner-enabled --miner-coinbase &lt;COINBASE ADDRESS&gt; --rpc-http-cors-origins=&quot;all&quot; --rpc-http-enabled --metrics-enabled</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">besu --network=dev --miner-enabled --miner-coinbase fe3b557e8fb62b89f4916b721be55ceb828dbd73 --rpc-http-cors-origins=&quot;all&quot; --rpc-http-enabled --metrics-enabled</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>To specify the host and port on which Prometheus accesses Besu, use the <a href="/23.10.2/public-networks/reference/cli/options#metrics-host"><code>--metrics-host</code></a> and <a href="/23.10.2/public-networks/reference/cli/options#metrics-port"><code>--metrics-port</code></a> options. The default host and port are 127.0.0.1 (<code>localhost</code>) and 9545.</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_BuS1"><p>To avoid DNS rebinding attacks, if running Prometheus on a different host than your Besu node (any host other than <code>localhost</code>), add the hostname that Prometheus uses to <a href="/23.10.2/public-networks/reference/cli/options#host-allowlist"><code>--host-allowlist</code></a>.</p><p>For example, if Prometheus is configured to get metrics from <code>http://besu.local:8008/metrics</code>, then <code>besu.local</code> has to be in <code>--host-allowlist</code>.</p><p>:::</p><ol start="3">
<li>
<p>In another terminal, run Prometheus specifying the <code>prometheus.yml</code> file:</p>
</li>
</ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">prometheus --config.file=prometheus.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4">
<li>
<p>View the <a href="#view-prometheus-graphical-interface">Prometheus graphical interface</a>.</p>
</li>
</ol><div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Use a log ingestion tool, such as Logstash, to parse the logs and alert you to configured anomalies.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="run-prometheus-with-besu-in-push-mode">Run Prometheus with Besu in push mode<a href="#run-prometheus-with-besu-in-push-mode" class="hash-link" aria-label="Direct link to Run Prometheus with Besu in push mode" title="Direct link to Run Prometheus with Besu in push mode">​</a></h2><p>The <a href="/23.10.2/public-networks/reference/cli/options#metrics-enabled"><code>--metrics-enabled</code></a> option enables Prometheus polling of Besu, but sometimes metrics are hard to poll (for example, when running inside Docker containers with varying IP addresses). To enable Besu to push metrics to a <a href="https://github.com/prometheus/pushgateway" target="_blank" rel="noopener noreferrer">Prometheus push gateway</a>, use the <a href="/23.10.2/public-networks/reference/cli/options#metrics-push-enabled"><code>--metrics-push-enabled</code></a> option.</p><p>To configure Prometheus and run with Besu pushing to a push gateway:</p><ol>
<li>
<p>Configure Prometheus to read from a push gateway. For example, add the following YAML fragment to the <code>scrape_configs</code> block of the <code>prometheus.yml</code> file:</p>
</li>
</ol><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">job_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> push</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">gateway</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">metrics_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">scheme</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">static_configs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">targets</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> localhost</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">9091</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol>
<li>
<p>Start the push gateway. You can deploy the push gateway using the Docker image:</p>
</li>
</ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker pull prom/pushgateway</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker run -d -p 9091:9091 prom/pushgateway</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol>
<li>Start Besu specifying the <code>--metrics-push-enabled</code> option and port of the push gateway:</li>
</ol><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Syntax</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Example</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">besu --network=dev --miner-enabled --miner-coinbase &lt;COINBASE ADDRESS&gt; --rpc-http-cors-origins=&quot;all&quot; --rpc-http-enabled --metrics-push-enabled --metrics-push-port=9091 --metrics-push-host=127.0.0.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">besu --network=dev --miner-enabled --miner-coinbase fe3b557e8fb62b89f4916b721be55ceb828dbd73 --rpc-http-cors-origins=&quot;all&quot; --rpc-http-enabled --metrics-push-enabled --metrics-push-port=9091 --metrics-push-host=127.0.0.1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><ol>
<li>
<p>In another terminal, run Prometheus specifying the <code>prometheus.yml</code> file:</p>
</li>
</ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">prometheus --config.file=prometheus.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol>
<li>View the <a href="#view-prometheus-graphical-interface">Prometheus graphical interface</a>.</li>
</ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="view-prometheus-graphical-interface">View Prometheus graphical interface<a href="#view-prometheus-graphical-interface" class="hash-link" aria-label="Direct link to View Prometheus graphical interface" title="Direct link to View Prometheus graphical interface">​</a></h2><ol>
<li>
<p>Open a Web browser to <a href="http://localhost:9090" target="_blank" rel="noopener noreferrer"><code>http://localhost:9090</code></a> to view the Prometheus graphical interface.</p>
</li>
<li>
<p>Choose <strong>Graph</strong> from the menu bar and click the <strong>Console</strong> tab below.</p>
</li>
<li>
<p>From the <strong>Insert metric at cursor</strong> drop-down, select a <a href="#metrics-list">metric</a> such as <code>besu_blockchain_difficulty_total</code> or <code>ethereum_blockchain_height</code> and click <strong>Execute</strong>. The values display.</p>
</li>
<li>
<p>Click the <strong>Graph</strong> tab to view the data as a time-based graph. The query string displays below the graph. For example, <code>{ethereum_blockchain_height{instance=&quot;localhost:9545&quot;,job=&quot;prometheus&quot;}</code>.</p>
</li>
</ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="metrics-list">Metrics list<a href="#metrics-list" class="hash-link" aria-label="Direct link to Metrics list" title="Direct link to Metrics list">​</a></h2><p>The following table lists available metrics. Each metric starts with a metric category prefix. Metrics specific to Besu use the <code>besu_</code> prefix, followed by another metric category. Metric categories can be enabled using the <a href="/23.10.2/public-networks/reference/cli/options#metrics-category"><code>metrics-category</code></a> command line option. If a metric has a JSON-RPC equivalent, it is included in the definition column.</p><table><thead><tr><th>Name</th><th>Metric type</th><th>Definition</th></tr></thead><tbody><tr><td><code>besu_blockchain_chain_head_gas_limit</code></td><td>Gauge</td><td>Block gas limit of the current chain head block</td></tr><tr><td><code>besu_blockchain_chain_head_gas_used</code></td><td>Gauge</td><td>Gas used by the current chain head block</td></tr><tr><td><code>besu_blockchain_chain_head_ommer_count</code></td><td>Gauge</td><td>Number of uncles in the current chain head block (JSON-RPC equivalent: <a href="/23.10.2/public-networks/reference/api#eth_getunclecountbyblockhash"><code>eth_getUncleCountByBlockHash</code></a> or <a href="/23.10.2/public-networks/reference/api#eth_getunclecountbyblocknumber"><code>eth_getUncleCountByBlockNumber</code></a>)</td></tr><tr><td><code>besu_blockchain_chain_head_timestamp</code></td><td>Gauge</td><td>Timestamp from the current chain head</td></tr><tr><td><code>besu_blockchain_chain_head_transaction_count</code></td><td>Gauge</td><td>Number of transactions in the current chain head block (JSON-RPC equivalent: <a href="/23.10.2/public-networks/reference/api#eth_getblocktransactioncountbyhash"><code>eth_getBlockTransactionCountByHash</code></a> or <a href="/23.10.2/public-networks/reference/api#eth_getblocktransactioncountbynumber"><code>eth_getBlockTransactionCountByNumber</code></a>)</td></tr><tr><td><code>besu_blockchain_difficulty_total</code></td><td>Gauge</td><td>Difficulty of the chain head (JSON-RPC equivalent: <code>difficulty</code> of <a href="/23.10.2/public-networks/reference/api#admin_peers"><code>admin_peers</code></a>)</td></tr><tr><td><code>besu_executors_ethscheduler_computation_active_threads_current</code></td><td>Gauge</td><td>Current number of threads executing computation tasks</td></tr><tr><td><code>besu_executors_ethscheduler_computation_completed_tasks_total</code></td><td>Gauge</td><td>Total number of computation tasks executed</td></tr><tr><td><code>besu_executors_ethscheduler_computation_pool_size_current</code></td><td>Gauge</td><td>Current number of threads in the computation thread pool</td></tr><tr><td><code>besu_executors_ethscheduler_computation_queue_length_current</code></td><td>Gauge</td><td>Current number of computation tasks awaiting execution</td></tr><tr><td><code>besu_executors_ethscheduler_computation_rejected_tasks_total</code></td><td>Counter</td><td>Total number of tasks rejected by this computation executor</td></tr><tr><td><code>besu_executors_ethscheduler_computation_submitted_tasks_total</code></td><td>Gauge</td><td>Total number of computation tasks submitted</td></tr><tr><td><code>besu_executors_ethscheduler_timer_active_threads_current</code></td><td>Gauge</td><td>Current number of threads executing timer tasks</td></tr><tr><td><code>besu_executors_ethscheduler_timer_completed_tasks_total</code></td><td>Gauge</td><td>Total number of timer tasks executed</td></tr><tr><td><code>besu_executors_ethscheduler_timer_pool_size_current</code></td><td>Gauge</td><td>Current number of threads in the timer thread pool</td></tr><tr><td><code>besu_executors_ethscheduler_timer_queue_length_current</code></td><td>Gauge</td><td>Current number of timer tasks awaiting execution</td></tr><tr><td><code>besu_executors_ethscheduler_timer_rejected_tasks_total</code></td><td>Counter</td><td>Total number of tasks rejected by this timer executor</td></tr><tr><td><code>besu_executors_ethscheduler_timer_submitted_tasks_total</code></td><td>Gauge</td><td>Total number of timer tasks submitted</td></tr><tr><td><code>besu_executors_ethscheduler_workers_active_threads_current</code></td><td>Gauge</td><td>Current number of threads executing worker tasks</td></tr><tr><td><code>besu_executors_ethscheduler_workers_completed_tasks_total</code></td><td>Gauge</td><td>Total number of worker tasks executed</td></tr><tr><td><code>besu_executors_ethscheduler_workers_pool_size_current</code></td><td>Gauge</td><td>Current number of threads in the worker thread pool</td></tr><tr><td><code>besu_executors_ethscheduler_workers_queue_length_current</code></td><td>Gauge</td><td>Current number of worker tasks awaiting execution</td></tr><tr><td><code>besu_executors_ethscheduler_workers_rejected_tasks_total</code></td><td>Counter</td><td>Total number of tasks rejected by this worker executor</td></tr><tr><td><code>besu_executors_ethscheduler_workers_submitted_tasks_total</code></td><td>Gauge</td><td>Total number of worker tasks submitted</td></tr><tr><td><code>besu_network_discovery_inflight_interactions_current</code></td><td>Gauge</td><td>Current number of inflight discovery interactions</td></tr><tr><td><code>besu_network_discovery_interaction_count</code></td><td>Counter</td><td>Total number of discovery interactions initiated</td></tr><tr><td><code>besu_network_discovery_interaction_retry_count</code></td><td>Counter</td><td>Total number of interaction retries performed</td></tr><tr><td><code>besu_network_discovery_messages_inbound</code></td><td>Counter</td><td>Total number of P2P discovery messages received</td></tr><tr><td><code>besu_network_discovery_messages_outbound</code></td><td>Counter</td><td>Total number of P2P discovery messages sent</td></tr><tr><td><code>besu_network_netty_boss_pending_tasks</code></td><td>Gauge</td><td>Number of pending tasks in Netty boss event loop</td></tr><tr><td><code>besu_network_netty_workers_pending_tasks</code></td><td>Gauge</td><td>Number of pending tasks in Netty workers event loop</td></tr><tr><td><code>besu_network_p2p_messages_inbound</code></td><td>Counter</td><td>Total number of P2P messages received</td></tr><tr><td><code>besu_network_vertx_eventloop_pending_tasks</code></td><td>Gauge</td><td>Number of pending tasks in Vertx event loop</td></tr><tr><td><code>besu_network_vertx_worker_pool_completed_total</code></td><td>Counter</td><td>Total number of tasks completed by Vertx worker pool</td></tr><tr><td><code>besu_network_vertx_worker_pool_rejected_total</code></td><td>Counter</td><td>Total number of tasks rejected by Vertx worker pool</td></tr><tr><td><code>besu_network_vertx_worker_pool_submitted_total</code></td><td>Counter</td><td>Total number of tasks submitted to Vertx worker pool</td></tr><tr><td><code>besu_peers_connected_total</code></td><td>Counter</td><td>Total number of peers connected</td></tr><tr><td><code>besu_peers_disconnected_total</code></td><td>Counter</td><td>Total number of peers disconnected</td></tr><tr><td><code>besu_peers_pending_peer_requests_current</code></td><td>Gauge</td><td>Current number of peer requests pending because peers are busy</td></tr><tr><td><code>besu_pruner_mark_time_duration</code></td><td>Gauge</td><td>Cumulative number of seconds spent marking the state trie across all pruning cycles</td></tr><tr><td><code>besu_pruner_mark_operations_total</code></td><td>Counter</td><td>Total number of mark operations performed</td></tr><tr><td><code>besu_pruner_marked_nodes_total</code></td><td>Counter</td><td>Total number of nodes marked as in use</td></tr><tr><td><code>besu_pruner_sweep_operations_total</code></td><td>Counter</td><td>Total number of sweep operations performed</td></tr><tr><td><code>besu_pruner_swept_nodes_total</code></td><td>Counter</td><td>Total number of unused nodes removed</td></tr><tr><td><code>besu_stratum_connections</code></td><td>Counter</td><td>Number of connections over time</td></tr><tr><td><code>besu_stratum_difficulty</code></td><td>Gauge</td><td>Current mining difficulty</td></tr><tr><td><code>besu_stratum_disconnections</code></td><td>Counter</td><td>Number of disconnections over time</td></tr><tr><td><code>besu_stratum_miners</code></td><td>Gauge</td><td>Number of connected miners</td></tr><tr><td><code>besu_synchronizer_chain_download_pipeline_processed_total</code></td><td>Counter</td><td>Number of entries processed by each chain download pipeline stage</td></tr><tr><td><code>besu_synchronizer_chain_download_pipeline_restarts</code></td><td>Counter</td><td>Number of times chain download pipeline has been restarted</td></tr><tr><td><code>besu_synchronizer_fast_sync_pivot_block_current</code></td><td>Gauge</td><td>The current fast sync pivot block</td></tr><tr><td><code>besu_synchronizer_fast_sync_pivot_block_selected_count</code></td><td>Counter</td><td>Number of times a fast sync pivot block has been selected</td></tr><tr><td><code>besu_synchronizer_fast_sync_validation_mode</code></td><td>Counter</td><td>Number of blocks validated using light vs full validation during fast sync</td></tr><tr><td><code>besu_synchronizer_in_sync</code></td><td>Gauge</td><td>Whether or not the local node has caught up to the best known peer (1 or 0)</td></tr><tr><td><code>besu_synchronizer_task</code></td><td>Summary</td><td>Internal processing tasks</td></tr><tr><td><code>besu_synchronizer_world_state_completed_requests_total</code></td><td>Counter</td><td>Total number of node data requests completed as part of fast sync world state download</td></tr><tr><td><code>besu_synchronizer_world_state_existing_nodes_total</code></td><td>Counter</td><td>Total number of node data requests completed using existing data</td></tr><tr><td><code>besu_synchronizer_world_state_inflight_requests_current</code></td><td>Gauge</td><td>Number of in progress requests for world state data</td></tr><tr><td><code>besu_synchronizer_world_state_node_requests_since_last_progress_current</code></td><td>Gauge</td><td>Number of world state requests made since the last time new data was returned</td></tr><tr><td><code>besu_synchronizer_world_state_pending_requests_cache_size</code></td><td>Gauge</td><td>Pending request cache size for fast sync world state download</td></tr><tr><td><code>besu_synchronizer_world_state_pending_requests_current</code></td><td>Gauge</td><td>Number of pending requests for fast sync world state download</td></tr><tr><td><code>besu_synchronizer_world_state_pipeline_processed_total</code></td><td>Counter</td><td>Number of entries processed by each world state download pipeline stage</td></tr><tr><td><code>besu_synchronizer_world_state_retried_requests_total</code></td><td>Counter</td><td>Total number of node data requests repeated as part of fast sync world state download</td></tr><tr><td><code>besu_transaction_pool_pending_transactions_messages_skipped_total</code></td><td>Counter</td><td>Total number of pending transactions messages skipped by the processor</td></tr><tr><td><code>besu_transaction_pool_transactions</code></td><td>Gauge</td><td>Current size of the transaction pool (JSON-RPC equivalent: result number of <a href="/23.10.2/public-networks/reference/api#txpool_besutransactions"><code>txpool_besuTransactions</code></a>)</td></tr><tr><td><code>besu_transaction_pool_transactions_added_total</code></td><td>Counter</td><td>Count of transactions added to the transaction pool</td></tr><tr><td><code>besu_transaction_pool_transactions_messages_skipped_total</code></td><td>Counter</td><td>Total number of transactions messages skipped by the processor.</td></tr><tr><td><code>ethereum_best_known_block_number</code></td><td>Gauge</td><td>Estimated highest block available (JSON-RPC equivalent: <code>highestBlock</code> of <a href="/23.10.2/public-networks/reference/api#eth_syncing"><code>eth_syncing</code></a>, or <a href="/23.10.2/public-networks/reference/api#eth_blocknumber"><code>eth_blockNumber</code></a> if not syncing)</td></tr><tr><td><code>ethereum_blockchain_height</code></td><td>Gauge</td><td>Current height of the canonical chain (JSON-RPC equivalent: <a href="/23.10.2/public-networks/reference/api#eth_blocknumber"><code>eth_blockNumber</code></a>)</td></tr><tr><td><code>ethereum_peer_count</code></td><td>Gauge</td><td>Current number of peers connected (JSON-RPC equivalent: <a href="/23.10.2/public-networks/reference/api#net_peercount"><code>net_peerCount</code></a>)</td></tr><tr><td><code>ethereum_peer_limit</code></td><td>Gauge</td><td>Maximum number of peers this node allows to connect</td></tr><tr><td><code>jvm_buffer_pool_capacity_bytes</code></td><td>Gauge</td><td>Bytes capacity of a given JVM buffer pool</td></tr><tr><td><code>jvm_buffer_pool_used_buffers</code></td><td>Gauge</td><td>Used buffers of a given JVM buffer pool</td></tr><tr><td><code>jvm_buffer_pool_used_bytes</code></td><td>Gauge</td><td>Used bytes of a given JVM buffer pool</td></tr><tr><td><code>jvm_classes_loaded</code></td><td>Gauge</td><td>Current number of classes loaded in the JVM</td></tr><tr><td><code>jvm_classes_loaded_total</code></td><td>Counter</td><td>Total number of classes loaded since the JVM started execution</td></tr><tr><td><code>jvm_classes_unloaded_total</code></td><td>Counter</td><td>Total number of classes unloaded since the JVM started execution</td></tr><tr><td><code>jvm_gc_collection_seconds</code></td><td>Summary</td><td>Seconds spent in a given JVM garbage collector</td></tr><tr><td><code>jvm_memory_bytes_committed</code></td><td>Gauge</td><td>Committed bytes of a given JVM memory area</td></tr><tr><td><code>jvm_memory_bytes_init</code></td><td>Gauge</td><td>Initial bytes of a given JVM memory area</td></tr><tr><td><code>jvm_memory_bytes_max</code></td><td>Gauge</td><td>Maximum bytes of a given JVM memory area</td></tr><tr><td><code>jvm_memory_bytes_used</code></td><td>Gauge</td><td>Used bytes of a given JVM memory area</td></tr><tr><td><code>jvm_memory_pool_bytes_committed</code></td><td>Gauge</td><td>Committed bytes of a given JVM memory pool</td></tr><tr><td><code>jvm_memory_pool_bytes_init</code></td><td>Gauge</td><td>Initial bytes of a given JVM memory pool</td></tr><tr><td><code>jvm_memory_pool_bytes_max</code></td><td>Gauge</td><td>Maximum bytes of a given JVM memory pool</td></tr><tr><td><code>jvm_memory_pool_bytes_used</code></td><td>Gauge</td><td>Used bytes of a given JVM memory pool</td></tr><tr><td><code>jvm_threads_current</code></td><td>Gauge</td><td>Current thread count of a JVM</td></tr><tr><td><code>jvm_threads_daemon</code></td><td>Gauge</td><td>Daemon thread count of a JVM</td></tr><tr><td><code>jvm_threads_deadlocked</code></td><td>Gauge</td><td>Cycles of JVM threads in deadlock waiting to acquire object monitors or ownable synchronizers</td></tr><tr><td><code>jvm_threads_deadlocked_monitor</code></td><td>Gauge</td><td>Cycles of JVM threads in deadlock waiting to acquire object monitors</td></tr><tr><td><code>jvm_threads_peak</code></td><td>Gauge</td><td>Peak thread count of a JVM</td></tr><tr><td><code>jvm_threads_started_total</code></td><td>Counter</td><td>Started thread count of a JVM</td></tr><tr><td><code>jvm_threads_state</code></td><td>Gauge</td><td>Current count of threads by state</td></tr><tr><td><code>process_cpu_seconds_total</code></td><td>Counter</td><td>Total user and system CPU time spent in seconds</td></tr><tr><td><code>process_max_fds</code></td><td>Gauge</td><td>Maximum number of open file descriptors</td></tr><tr><td><code>process_open_fds</code></td><td>Gauge</td><td>Number of open file descriptors</td></tr><tr><td><code>process_start_time_seconds</code></td><td>Gauge</td><td>Start time of the process since Unix epoch in seconds</td></tr></tbody></table><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><ul>
<li>The <code>ethereum_best_known_block_number</code> metric always has a value. When the <a href="/23.10.2/public-networks/reference/api#eth_syncing"><code>eth_syncing</code> JSON-RPC method</a> returns false, the current chain height displays.</li>
<li>Although the <code>ethereum_peer_limit</code> metric does not have a JSON-RPC equivalent, the <a href="/23.10.2/public-networks/reference/cli/options#max-peers"><code>max peers</code> command line option</a> sets the maximum number of P2P connections that can be established.</li>
</ul></div></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/hyperledger/besu-docs/tree/main/versioned_docs/version-23.10.2/public-networks/how-to/monitor/metrics.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_VsjB"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-06-10T10:30:41.000Z">Jun 10, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/23.10.2/public-networks/how-to/monitor"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Monitor Besu</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/23.10.2/public-networks/how-to/monitor/understand-metrics"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Understand metrics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#install-prometheus" class="table-of-contents__link toc-highlight">Install Prometheus</a></li><li><a href="#set-up-and-run-prometheus-with-besu" class="table-of-contents__link toc-highlight">Set up and run Prometheus with Besu</a></li><li><a href="#run-prometheus-with-besu-in-push-mode" class="table-of-contents__link toc-highlight">Run Prometheus with Besu in push mode</a></li><li><a href="#view-prometheus-graphical-interface" class="table-of-contents__link toc-highlight">View Prometheus graphical interface</a></li><li><a href="#metrics-list" class="table-of-contents__link toc-highlight">Metrics list</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Public networks</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/public-networks">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/public-networks/how-to">How to guides</a></li><li class="footer__item"><a class="footer__link-item" href="/public-networks/concepts">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/public-networks/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/public-networks/reference">Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Private networks</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/private-networks">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/private-networks/how-to">How to guides</a></li><li class="footer__item"><a class="footer__link-item" href="/private-networks/concepts">Concepts</a></li><li class="footer__item"><a class="footer__link-item" href="/private-networks/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/private-networks/reference">Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/hyperledger" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hyperledger Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.hyperledger.org/display/BESU/Hyperledger+Besu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hyperledger Besu Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/HyperledgerBesu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hyperledger Besu Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/hyperledger/besu/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hyperledger Besu GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/hyperledger/besu-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Hyperledger Besu documentation GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://www.hyperledger.org/use/besu" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/logo.svg" alt="Hyperledger Besu logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="250"><img src="/img/logo-reversed.svg" alt="Hyperledger Besu logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="250"></a></div><div class="footer__copyright">Hyperledger Besu and its documentation are licensed under the Apache 2.0 license.</div></div></div></footer></div>
</body>
</html>